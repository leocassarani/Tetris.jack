class Tetromino {
    field int type, col, row, rotation;
    field Board board;

    constructor Tetromino new(int typeArg, int colArg, int rowArg, Board boardArg) {
        let type = typeArg;
        let col = colArg;
        let row = rowArg;
        let board = boardArg;
        let rotation = 0;
        return this;
    }

    method void dispose() {
        do Memory.deAlloc(this);
        return;
    }

    method int getCol() {
        return col;
    }

    method void setCol(int colArg) {
        let col = colArg;
        return;
    }

    method int getRow() {
        return row;
    }

    method void setRow(int rowArg) {
        let row = rowArg;
        return;
    }

    method int getRotation() {
        return rotation;
    }

    method void setRotation(int rotationArg) {
        let rotation = rotationArg;
        return;
    }

    method void reset(int typeArg, int colArg, int rowArg) {
        let type = typeArg;
        let col = colArg;
        let row = rowArg;
        let rotation = 0;
        return;
    }

    method void show() {
        if (type = 0) {
            do J.show(this, board, true);
        } else {
            if (type = 1) {
                do I.show(this, board, true);
            } else {
                do O.show(this, board, true);
            }
        }
        return;
    }

    method boolean step() {
        if (type = 0) {
            return J.move(this, board, 0);
        } else {
            if (type = 1) {
                return I.move(this, board, 0);
            } else {
                return O.move(this, board, 0);
            }
        }
    }

    method void moveLeft() {
        if (type = 0) {
            do J.move(this, board, 1);
        } else {
            if (type = 1) {
                do I.move(this, board, 1);
            } else {
                do O.move(this, board, 1);
            }
        }
        return;
    }

    method void moveRight() {
        if (type = 0) {
            do J.move(this, board, 2);
        } else {
            if (type = 1) {
                do I.move(this, board, 2);
            } else {
                do O.move(this, board, 2);
            }
        }
        return;
    }

    method void rotate() {
        if (type = 0) {
            do J.rotate(this, board);
        } else {
            if (type = 1) {
                do I.rotate(this, board);
            }
        }
        return;
    }
}
